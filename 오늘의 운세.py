import streamlit as st
from datetime import datetime
import random
import hashlib

st.set_page_config(page_title="ì˜¤ëŠ˜ì˜ ìš´ì„¸ ê²Œì„", page_icon="ğŸ”®", layout="centered")

st.title("ğŸ”® ì˜¤ëŠ˜ì˜ ìš´ì„¸ë¥¼ ì•Œì•„ë³´ì!")
st.write("ë‹¹ì‹ ì˜ ìƒì¼ë¡œ ì˜¤ëŠ˜ì˜ ìš´ì„¸ë¥¼ ì ì³ë“œë¦½ë‹ˆë‹¤.")

# ìƒì¼ ì…ë ¥
birth_date = st.date_input("ğŸ‚ ìƒë…„ì›”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”", min_value=datetime(1900, 1, 1), max_value=datetime.today())

if st.button("ìš´ì„¸ ë³´ê¸°"):
    # ì˜¤ëŠ˜ ë‚ ì§œ
    today = datetime.today().strftime("%Y-%m-%d")

    # ìƒì¼ + ì˜¤ëŠ˜ ë‚ ì§œë¡œ ê³ ì •ëœ ì‹œë“œ ìƒì„±
    combined = str(birth_date) + today
    seed = int(hashlib.sha256(combined.encode()).hexdigest(), 16) % (10 ** 8)
    random.seed(seed)

    # ìš´ì„¸ í•­ëª©
    fortunes = {
        "ğŸ’° ê¸ˆì „ìš´": [
            "ëœ»í•˜ì§€ ì•Šì€ í–‰ìš´ì´ ìƒê¸¸ ìˆ˜ ìˆì–´ìš”!",
            "ì˜¤ëŠ˜ì€ ì§€ì¶œì„ ì¡°ì‹¬í•˜ì„¸ìš”.",
            "ì‘ì€ íˆ¬ìì— í–‰ìš´ì´ ë”°ë¦…ë‹ˆë‹¤.",
            "ê¸ˆì „ì ìœ¼ë¡œ í‰ì˜¨í•œ í•˜ë£¨ì…ë‹ˆë‹¤.",
            "ë³µê¶Œì„ ì‚¬ë©´ ì¢‹ì€ ê²°ê³¼ê°€ ìˆì„ì§€ë„?"
        ],
        "â¤ï¸ ì• ì •ìš´": [
            "ì‚¬ë‘ì´ í”¼ì–´ë‚˜ëŠ” í•˜ë£¨ê°€ ë  ê±°ì˜ˆìš”!",
            "ì¸ì´ ìˆë‹¤ë©´ ì§„ì „ì´ ìˆì„ì§€ë„ ëª°ë¼ìš”.",
            "ì—°ì¸ê³¼ ë‹¤íˆ¼ì— ì£¼ì˜í•˜ì„¸ìš”.",
            "ì†”ë¡œì—ê²Œ ì¢‹ì€ ê¸°íšŒê°€ ì°¾ì•„ì˜µë‹ˆë‹¤.",
            "ê°ì • í‘œí˜„ì— ì†”ì§í•´ì§€ë©´ ì¢‹ì•„ìš”."
        ],
        "ğŸ’ª ê±´ê°•ìš´": [
            "ê±´ê°•í•œ í•˜ë£¨! ì»¨ë””ì…˜ ìµœê³ !",
            "ê³¼ë¡œë¥¼ ì¡°ì‹¬í•˜ì„¸ìš”.",
            "ìŠ¤íŠ¸ë ˆì¹­ì„ ìì£¼ í•´ì£¼ì„¸ìš”.",
            "ë§ˆìŒ ê±´ê°•ì— ì§‘ì¤‘í•´ë³´ì„¸ìš”.",
            "ì˜¤ëŠ˜ì€ íœ´ì‹ì´ í•„ìš”í•œ ë‚ ì´ì—ìš”."
        ],
        "ğŸ“š ì¡°ì–¸": [
            "ê°€ê¹Œìš´ ì‚¬ëŒì˜ ì¡°ì–¸ì— ê·€ë¥¼ ê¸°ìš¸ì´ì„¸ìš”.",
            "ìƒˆë¡œìš´ ì‹œë„ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ˆì„¸ìš”.",
            "ì˜¤ëŠ˜ì€ ì²œì²œíˆ, ì—¬ìœ ë¥¼ ê°€ì§€ì„¸ìš”.",
            "ì‘ì€ ì¹œì ˆì´ í° ê¸°ì¨ì´ ë  ê±°ì˜ˆìš”.",
            "ì›ƒëŠ” ì–¼êµ´ì´ ë³µì„ ë¶€ë¥¸ë‹µë‹ˆë‹¤ :)"
        ]
    }

    st.subheader("âœ¨ ì˜¤ëŠ˜ì˜ ìš´ì„¸ âœ¨")
    for category, messages in fortunes.items():
        message = random.choice(messages)
        st.markdown(f"**{category}**: {message}")

    st.success("ì¢‹ì€ í•˜ë£¨ ë³´ë‚´ì„¸ìš”! ğŸŒˆ")
